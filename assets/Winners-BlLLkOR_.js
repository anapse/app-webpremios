import{j as e,a as c}from"./index-BMAf1zAM.js";import{b as m}from"./vendor-DJKrsZSW.js";import{u as p}from"./useFetch-B8Cb0pGo.js";import{S as h}from"./SorteoInfo-vw-2wVSL.js";import"./pdf-C1-dEYVs.js";const u=({data:o})=>e.jsx("div",{className:"winners-page",children:e.jsx("div",{className:"winners-wrapper",children:Object.entries(o).map(([l,t],d)=>{if(!t.length)return null;const n=Object.keys(t[0]).filter(r=>t.some(s=>s[r]!==null&&s[r]!==void 0&&s[r]!==""));return e.jsxs("div",{children:[e.jsxs("h2",{className:"table-title",children:["ðŸŽ‰ ",l]}),e.jsxs("table",{className:"styled-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nro"}),n.map((r,s)=>e.jsx("th",{children:r.charAt(0).toUpperCase()+r.slice(1)},s))]})}),e.jsx("tbody",{children:t.map((r,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:s+1}),n.map((i,a)=>e.jsx("td",{children:r[i]},a))]},s))})]})]},d)})})});function N(){const[o,l]=m.useState(null),{data:t,loading:d,error:n}=p(o?`${c.ganadores}?id=${o}`:null),{data:r}=p(c.ultimoSorteo);if(m.useEffect(()=>{r?.id&&l(r.id)},[r]),!o)return e.jsx("p",{children:"Cargando informaciÃ³n del sorteo..."});if(d)return e.jsx("p",{children:"Cargando ganadores..."});if(n)return e.jsx("p",{style:{color:"red"},children:n});const s={};return t?.forEach(i=>{const a=i.premio||"Sin premio";s[a]||(s[a]=[]),s[a].push(i)}),e.jsxs("div",{className:"ganadores-page",children:[e.jsx(h,{titulo:`Ganadores del ${r?.nombre_sorteo||""}`,sorteo:r}),e.jsx(u,{data:s})]})}export{N as default};
