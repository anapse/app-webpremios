import{j as e,a as t}from"./index-CrYc2Bqs.js";import{L as m}from"./vendor-DJKrsZSW.js";import{u as d}from"./useFetch-B8Cb0pGo.js";import{S as h}from"./SorteoInfo-vXbHZQLT.js";import"./pdf-C1-dEYVs.js";const p=()=>e.jsx(m,{to:"/registro",className:"boton-registro",children:"¡Registrar Ticket!"});function x({titulo:r,descripcion:n,imagen_url:o,imagen_base64:s}){const i=s||o||"/placeholder-premio.svg";return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-image",children:e.jsx("img",{src:i,alt:r,className:"premio-image",onError:a=>{a.target.src="/placeholder-premio.svg"}})}),e.jsxs("div",{className:"card-content",children:[e.jsx("h3",{children:r}),e.jsx("p",{children:n})]})]})}const l=r=>window.location.hostname==="anapse.github.io"?`/app-webpremios/${r}`:`/${r}`;function g(){const{data:r,loading:n,error:o}=d(t.homeBanner);if(n||o||!r?.banner)return e.jsx("div",{className:"dynamic-banner",children:e.jsx("img",{src:l("placeholder-banner.svg"),alt:"Banner",className:"sorteo-banner",onError:a=>{a.target.src=l("placeholder-banner.svg")}})});const{banner:s}=r,i=s.imagen_base64||s.imagen_url||l("placeholder-banner.svg");return e.jsx("div",{className:"dynamic-banner",children:e.jsx("img",{src:i,alt:"Banner",className:"sorteo-banner",onError:a=>{a.target.src=l("placeholder-banner.svg")}})})}function f(){const{data:r,loading:n,error:o}=d(t.proximoSorteo,{}),{data:s,loading:i,error:a}=d(r?`${t.premios}?sorteo_id=${r.id}`:null,{});return n?e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participa y gana premios cada mes"})]}),e.jsx("main",{className:"main",children:e.jsx("div",{style:{textAlign:"center",padding:"40px 20px"},children:e.jsxs("div",{className:"sorteo-info-skeleton",children:[e.jsx("div",{style:{height:"40px",backgroundColor:"#333",borderRadius:"8px",marginBottom:"20px",animation:"pulse 1.5s ease-in-out infinite"}}),e.jsx("div",{style:{height:"20px",backgroundColor:"#333",borderRadius:"8px",animation:"pulse 1.5s ease-in-out infinite"}})]})})})]}):o?e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participar y ganar premios cada mes"})]}),e.jsx("main",{className:"main",children:e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[e.jsxs("p",{children:["❌ Error: ",o]}),e.jsx("button",{onClick:()=>window.location.reload(),children:"🔄 Reintentar"})]})})]}):r?e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participa y gana premios cada mes"})]}),e.jsxs("main",{className:"main",children:[e.jsx(h,{titulo:r.nombre_sorteo,sorteo:r}),e.jsxs("p",{className:"price",children:["Compra tu ticket por solo ",e.jsxs("strong",{children:["S/ ",r.ticket_price]})]}),e.jsx(p,{}),e.jsx(g,{}),e.jsxs("div",{className:"cards",children:[i&&e.jsx("p",{children:"Cargando premios..."}),a&&e.jsxs("p",{children:["Error cargando premios: ",a]}),!i&&s&&s.premios&&s.premios.length===0&&e.jsx("p",{children:"No hay premios disponibles."}),!i&&s&&s.premios&&s.premios.map(c=>e.jsx(x,{titulo:`${c.nombre} `,descripcion:c.descripcion,imagen_url:c.imagen_url,imagen_base64:c.imagen_base64},c.id))]})]})]}):e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participar y ganar premios cada mes"})]}),e.jsx("main",{className:"main",children:e.jsx("div",{style:{textAlign:"center",padding:"40px 20px"},children:e.jsx("p",{children:"📅 No hay próximo sorteo disponible."})})})]})}export{f as default};
