import{j as e,a as l}from"./index-BtgZLOfT.js";import{L as d}from"./vendor-DJKrsZSW.js";import{u as t}from"./useFetch-B8Cb0pGo.js";import{S as m}from"./SorteoInfo-gqEsZAXR.js";import"./pdf-C1-dEYVs.js";const h=()=>e.jsx(d,{to:"/registro",className:"boton-registro",children:"¡Registrar Ticket!"});function x({titulo:r,descripcion:o,imagen_url:n,imagen_base64:s}){const i=s||n||"/placeholder-premio.svg";return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-image",children:e.jsx("img",{src:i,alt:r,className:"premio-image",onError:a=>{a.target.src="/placeholder-premio.svg"}})}),e.jsxs("div",{className:"card-content",children:[e.jsx("h3",{children:r}),e.jsx("p",{children:o})]})]})}function p(){const{data:r,loading:o,error:n}=t(l.homeBanner);if(o||n||!r?.banner)return e.jsx("div",{className:"dynamic-banner",children:e.jsx("img",{src:"/placeholder-banner.svg",alt:"Banner",className:"sorteo-banner",onError:a=>{a.target.src="/placeholder-banner.svg"}})});const{banner:s}=r,i=s.imagen_base64||s.imagen_url||"/placeholder-banner.svg";return e.jsx("div",{className:"dynamic-banner",children:e.jsx("img",{src:i,alt:"Banner",className:"sorteo-banner",onError:a=>{a.target.src="/placeholder-banner.svg"}})})}function v(){const{data:r,loading:o,error:n}=t(l.proximoSorteo,{}),{data:s,loading:i,error:a}=t(r?`${l.premios}?sorteo_id=${r.id}`:null,{});return o?e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participa y gana premios cada mes"})]}),e.jsx("main",{className:"main",children:e.jsx("div",{style:{textAlign:"center",padding:"40px 20px"},children:e.jsxs("div",{className:"sorteo-info-skeleton",children:[e.jsx("div",{style:{height:"40px",backgroundColor:"#333",borderRadius:"8px",marginBottom:"20px",animation:"pulse 1.5s ease-in-out infinite"}}),e.jsx("div",{style:{height:"20px",backgroundColor:"#333",borderRadius:"8px",animation:"pulse 1.5s ease-in-out infinite"}})]})})})]}):n?e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participar y ganar premios cada mes"})]}),e.jsx("main",{className:"main",children:e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[e.jsxs("p",{children:["❌ Error: ",n]}),e.jsx("button",{onClick:()=>window.location.reload(),children:"🔄 Reintentar"})]})})]}):r?e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participa y gana premios cada mes"})]}),e.jsxs("main",{className:"main",children:[e.jsx(m,{titulo:r.nombre_sorteo,sorteo:r}),e.jsxs("p",{className:"price",children:["Compra tu ticket por solo ",e.jsxs("strong",{children:["S/ ",r.ticket_price]})]}),e.jsx(h,{}),e.jsx(p,{}),e.jsxs("div",{className:"cards",children:[i&&e.jsx("p",{children:"Cargando premios..."}),a&&e.jsxs("p",{children:["Error cargando premios: ",a]}),!i&&s&&s.premios&&s.premios.length===0&&e.jsx("p",{children:"No hay premios disponibles."}),!i&&s&&s.premios&&s.premios.map(c=>e.jsx(x,{titulo:`${c.nombre} `,descripcion:c.descripcion,imagen_url:c.imagen_url,imagen_base64:c.imagen_base64},c.id))]})]})]}):e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"logo",children:"Game Ztore"}),e.jsx("p",{className:"tagline",children:"Participar y ganar premios cada mes"})]}),e.jsx("main",{className:"main",children:e.jsx("div",{style:{textAlign:"center",padding:"40px 20px"},children:e.jsx("p",{children:"📅 No hay próximo sorteo disponible."})})})]})}export{v as default};
